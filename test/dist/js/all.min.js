$(document).ready(function() {
    //  owl slider
    var owl = $('.owl-carousel');
    owl.owlCarousel({
        items: 1,
        loop: true,
        nav: true,
        margin: 10,
        autoplay: true,
        autoplayTimeout: 2000,
        autoplayHoverPause: true,
        navText: [
            '<img src="dist/images/slider-arrow-left.svg" alt="slider-arrow-left">',
            '<img src="dist/images/slider-arrow-right.svg" alt="slider-arrow-right">'
        ],
        navContainer: '.main_Slider .custom-nav'
    });

    $('.owl-carousel .item').on('mouseover',function(e){
        owl.trigger('stop.owl.autoplay');
    });

    $('.owl-carousel .item').on('mouseleave',function(e){
        owl.trigger('play.owl.autoplay');
    });

    // calculator add new addresses
    var address_id = 0;
    var address_taxi_limit = 4;
    $('.btn_Plus_Taxi').click(function () {
        address_id++;
        var AddressTaxiCount = $('.newAddressTaxiContainer input').length;
        if (AddressTaxiCount === (address_taxi_limit - 1)) {
            $('.btn_Plus_Taxi').prop('disabled', true);
        }
        $('.newAddressTaxiContainer').append("<div class=\"form-group\">\n" +
            "<input type=\"text\"\n" +
            "class=\"form-control\"\n" +
            "address-id = \""+address_id+"\"\n" +
            "aria-describedby=\"emailHelp\"\n" +
            "placeholder=\"Hara\">\n" +
            "<button type=\"button\" class=\"btn btn-outline-secondary btn-outline-remove btn_Remove_Taxi\">×</button>\n" +
            "</div>");

    });

    var kuryer_address_id = 0;
    var address_kuryer_limit = 4;
    $('.btn_Plus_Kuryer').click(function () {
        kuryer_address_id++;
        var AddressKuryerCount = $('.newAddressKuryerContainer input').length;
        if (AddressKuryerCount === (address_kuryer_limit-1)) {
            $('.btn_Plus_Kuryer').prop('disabled', true);
        }
        $('.newAddressKuryerContainer').append("<div class=\"form-group\">\n" +
            "<input type=\"text\"\n" +
            "class=\"form-control\"\n" +
            "address-id = \""+kuryer_address_id+"\"\n" +
            "aria-describedby=\"emailHelp\"\n" +
            "placeholder=\"Hara\">\n" +
            "<button type=\"button\" class=\"btn btn-outline-secondary btn-outline-remove btn_Remove_Taxi\">×</button>\n" +
            "</div>");
    });

    //remove created address

    $(document).on('click',".btn-outline-remove", function(){
        $(this).parent().remove();
        var AddressTaxiCount = $('.newAddressTaxiContainer input').length;
        var AddressKuryerCount = $('.newAddressKuryerContainer input').length;
        if (AddressTaxiCount < address_taxi_limit) {
            $('.btn_Plus_Taxi').prop('disabled', false);
        }
        if (AddressKuryerCount < address_kuryer_limit) {
            $('.btn_Plus_Kuryer').prop('disabled', false);
        }
    });

    //open calculate result
    $('.btn_Calculate').click(function () {
        if ($(".calculate_Result").hasClass('open')) {
            $(".calculate_Result").removeClass('open');
        } else {
            $(".calculate_Result").addClass('open');
        }
    });

    //scroll to top function
    var scroll_button = $(".btn_Scroll_Top");

    $(window).scroll(function(){
        if ($(this).scrollTop() > 100) {
            scroll_button.fadeIn();
        } else {
            scroll_button.fadeOut();
        }
    });

    scroll_button.click(function(){
        $('html, body').animate({scrollTop : 0},500);
        return false;
    });

    //bubble left
    $( window ).resize(function() {
        var device_width = $(window).width();
        if (($(window).width() > 1201)&&($(window).width() < 2000)) {
            var left = -412;
            var width = 961;
            var height = 975;
            var top = -236;

            var left_main = -412;
            var width_main = 961;
            var height_main = 975;
            var top_main = -141;
        }
        else if ($(window).width() > 2000) {
            var left = -685;
            var width = 1446;
            var height = 1031;
            var top = -248;

            var left_small = -696;
            var width_small = 1338;
            var height_small = 1031;
            var top_small = -268;

            var left_main = -687;
            var width_main = 1429;
            var height_main = 1065;
            var top_main = -159;
        }
        else if (($(window).width() < 1201) && ($(window).width() > 767)) {
            var left = ((device_width * (-412))/1201);
            var width = ((device_width * (961))/1201);
            var height = ((device_width * (975))/1201);
            var top = -239;

            var left_main = ((device_width * (-412))/1201);
            var width_main = ((device_width * (961))/1201);
            var height_main = ((device_width * (975))/1201);
            var top_main = -141;
        }
        else {
            var left = 0;
            var width = '100%';
            var height = 623.48;
            var top = 0;
        }
        $('.bubble-left').css('left', left);
        $('.bubble-left').css('width', width);
        $('.bubble-left').css('height', height);
        $('.bubble-left').css('top', top);

        $('.bubble-left-small-content').css('left', left_small);
        $('.bubble-left-small-content').css('width', width_small);
        $('.bubble-left-small-content').css('height', height_small);
        $('.bubble-left-small-content').css('top', top_small);

        $('.bubble-left-main').css('left', left_main);
        $('.bubble-left-main').css('width', width_main);
        $('.bubble-left-main').css('height', height_main);
        $('.bubble-left-main').css('top', top_main);
    });

    var device_width = $(window).width();
    if (($(window).width() > 1201)&&($(window).width() < 2000)) {
        var left = -412;
        var width = 961;
        var height = 975;
        var top = -236;

        var left_main = -412;
        var width_main = 961;
        var height_main = 975;
        var top_main = -141;
    }
    else if ($(window).width() > 2000) {
        var left = -685;
        var width = 1446;
        var height = 1031;
        var top = -248;

        var left_small = -696;
        var width_small = 1338;
        var height_small = 1031;
        var top_small = -268;

        var left_main = -687;
        var width_main = 1429;
        var height_main = 1065;
        var top_main = -159;
    }
    else if (($(window).width() < 1201) && ($(window).width() > 767)) {
        var left = ((device_width * (-412))/1201);
        var width = ((device_width * (961))/1201);
        var height = ((device_width * (975))/1201);
        var top = -239;

        var left_main = ((device_width * (-412))/1201);
        var width_main = ((device_width * (961))/1201);
        var height_main = ((device_width * (975))/1201);
        var top_main = -141;
    }
    else {
        var left = 0;
        var width = '100%';
        var height = 623.48;
        var top = 0;
    }
    $('.bubble-left').css('left', left);
    $('.bubble-left').css('width', width);
    $('.bubble-left').css('height', height);
    $('.bubble-left').css('top', top);

    $('.bubble-left-small-content').css('left', left_small);
    $('.bubble-left-small-content').css('width', width_small);
    $('.bubble-left-small-content').css('height', height_small);
    $('.bubble-left-small-content').css('top', top_small);

    $('.bubble-left-main').css('left', left_main);
    $('.bubble-left-main').css('width', width_main);
    $('.bubble-left-main').css('height', height_main);
    $('.bubble-left-main').css('top', top_main);
})